<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Car Decision Maker | Compare Financing Strategies</title>
    <meta name="description"
        content="Analyze the math behind your car purchase. Compare loan vs investment strategies and see how different financing options impact your wealth over 7 years.">
    <meta name="keywords"
        content="car loan calculator, EMI calculator, car buying strategy, investment comparison, loan vs invest, India car finance">
    <meta name="author" content="Smart Finance Tools">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Smart Car Decision Maker | Compare Financing Strategies">
    <meta property="og:description"
        content="Should you pay cash or take a loan? Analyze different car financing strategies and maximize your wealth.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_IN">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Smart Car Decision Maker">
    <meta name="twitter:description" content="Compare car financing strategies and maximize your wealth over 7 years.">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸš—</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Using Plus Jakarta Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --font-primary: 'Plus Jakarta Sans', 'Google Sans', 'Inter', sans-serif;
        }

        body {
            font-family: var(--font-primary);
            background-color: #F8FAFC;
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #CBD5E1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94A3B8;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-enter {
            opacity: 0;
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .delay-100 {
            animation-delay: 0.1s;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-300 {
            animation-delay: 0.3s;
        }

        /* Form Elements */
        .input-group {
            position: relative;
            transition: all 0.2s;
        }

        .input-group:focus-within label {
            color: #4F46E5;
        }

        .input-group:focus-within input {
            border-color: #4F46E5;
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Word helper text */
        .word-helper {
            font-size: 0.7rem;
            color: #64748B;
            margin-top: 0.35rem;
            font-weight: 500;
            min-height: 1rem;
            transition: all 0.2s;
        }

        .input-group:focus-within .word-helper {
            color: #4F46E5;
        }

        /* Card Styles */
        .strategy-card {
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .strategy-card:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.1);
        }

        .gradient-text {
            background: linear-gradient(135deg, #3730A3 0%, #4F46E5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Simplified Metric Display */
        .main-stat-label {
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.25rem;
        }

        .secondary-stat {
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Disabled state for inputs */
        .disabled-section {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(1);
        }

        /* Table Styles */
        .analysis-table th {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #64748B;
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            border-bottom: 1px solid #E2E8F0;
        }

        .analysis-table td {
            padding: 1rem;
            border-bottom: 1px solid #F1F5F9;
            font-size: 0.9rem;
            color: #334155;
        }

        .analysis-table tr:last-child td {
            border-bottom: none;
        }
    </style>
</head>

<body class="text-slate-600 min-h-screen">

    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-8 md:py-12">

        <!-- Header -->
        <header class="mb-10 animate-enter text-center md:text-left">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-700 text-xs font-bold uppercase tracking-wider mb-3">
                <i class="fas fa-calculator"></i> Finance Tool
            </div>
            <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900 tracking-tight mb-3">
                Smart Car <span class="gradient-text">Buying Strategy</span>
            </h1>
            <p class="text-lg text-slate-500 max-w-2xl font-medium">
                Analyze the math behind your car purchase. See how different financing strategies impact your wealth
                over 7 years.
            </p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">

            <!-- Left Column: Inputs -->
            <div class="lg:col-span-4 animate-enter delay-100">
                <div
                    class="bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-100 p-6 md:p-8 sticky top-6 z-10 overflow-y-auto max-h-[90vh]">

                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-slate-100">
                        <div
                            class="w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center text-lg">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-bold text-slate-900 leading-tight">Configuration</h2>
                            <p class="text-xs text-slate-400 font-medium">Adjust your variables</p>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <!-- Car Details -->
                        <div>
                            <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Vehicle
                                Cost & Value</label>
                            <div class="space-y-4">
                                <div class="input-group">
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">On-Road
                                        Price</label>
                                    <div class="relative">
                                        <span
                                            class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold">â‚¹</span>
                                        <input type="text" id="carPrice" value="22,81,000"
                                            class="currency-input w-full pl-8 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-800 focus:outline-none focus:bg-white transition-colors"
                                            placeholder="e.g. 15,00,000">
                                    </div>
                                    <div class="word-helper" id="carPriceWords">Twenty Two Lakh Eighty One Thousand
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div class="input-group">
                                        <label class="block text-[10px] font-semibold text-slate-600 mb-1">Loan Interest
                                            (%)</label>
                                        <input type="number" id="loanRate" value="9.0" step="0.1"
                                            class="w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-800 text-sm focus:outline-none focus:bg-white">
                                    </div>
                                    <!-- Depreciation Moved Here -->
                                    <div class="input-group">
                                        <label class="block text-[10px] font-semibold text-slate-600 mb-1">Depreciation
                                            / Yr (%)</label>
                                        <input type="number" id="depreciation" value="15"
                                            class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Running Costs (NEW with Toggle) -->
                        <div class="bg-orange-50/50 p-4 rounded-2xl border border-orange-100 transition-all duration-300"
                            id="runningCostsCard">
                            <div class="flex justify-between items-center mb-3">
                                <label
                                    class="text-xs font-bold text-orange-600 uppercase tracking-wider flex items-center gap-2">
                                    <i class="fas fa-gas-pump"></i> Fuel Costs
                                </label>

                                <!-- Toggle Switch -->
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="includeFuel" class="sr-only peer" checked>
                                    <div
                                        class="w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-orange-500">
                                    </div>
                                </label>
                            </div>

                            <div id="fuelInputsContainer" class="transition-opacity duration-300">
                                <div class="grid grid-cols-2 gap-3 mb-3">
                                    <div class="input-group">
                                        <label class="block text-[10px] font-semibold text-slate-600 mb-1">Monthly
                                            Km</label>
                                        <input type="number" id="monthlyKm" value="1000"
                                            class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm">
                                    </div>
                                    <div class="input-group">
                                        <label class="block text-[10px] font-semibold text-slate-600 mb-1">Mileage
                                            (km/l)</label>
                                        <input type="number" id="mileage" value="15"
                                            class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm">
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label class="block text-[10px] font-semibold text-slate-600 mb-1">Fuel Price
                                        (â‚¹)</label>
                                    <input type="number" id="fuelPrice" value="100"
                                        class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm">
                                </div>
                            </div>
                        </div>

                        <!-- Insurance & Maintenance (NEW) -->
                        <div class="bg-teal-50/50 p-4 rounded-2xl border border-teal-100 transition-all duration-300"
                            id="ownershipCostsCard">
                            <div class="flex justify-between items-center mb-3">
                                <label
                                    class="text-xs font-bold text-teal-600 uppercase tracking-wider flex items-center gap-2">
                                    <i class="fas fa-shield-alt"></i> Ownership Costs
                                </label>

                                <!-- Toggle Switch -->
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="includeOwnership" class="sr-only peer" checked>
                                    <div
                                        class="w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-teal-500">
                                    </div>
                                </label>
                            </div>

                            <div id="ownershipInputsContainer" class="transition-opacity duration-300">
                                <div class="grid grid-cols-2 gap-3">
                                    <div class="input-group">
                                        <label for="insuranceRate"
                                            class="block text-[10px] font-semibold text-slate-600 mb-1">Insurance
                                            (% of Value)</label>
                                        <input type="number" id="insuranceRate" value="3" step="0.5" min="0" max="10"
                                            class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm"
                                            aria-describedby="insuranceHelp">
                                        <div class="text-[9px] text-slate-400 mt-1" id="insuranceHelp">Year 1 rate,
                                            decreases yearly</div>
                                    </div>
                                    <div class="input-group">
                                        <label for="maintenanceCost"
                                            class="block text-[10px] font-semibold text-slate-600 mb-1">Maintenance
                                            (â‚¹/yr)</label>
                                        <input type="number" id="maintenanceCost" value="15000" step="1000" min="0"
                                            class="w-full px-3 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 text-sm">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Savings Details -->
                        <div>
                            <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Your
                                Capital</label>
                            <div class="space-y-4">
                                <div class="input-group">
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Total Savings
                                        Available</label>
                                    <div class="relative">
                                        <span
                                            class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold">â‚¹</span>
                                        <input type="text" id="totalCash" value="6,00,000"
                                            class="currency-input w-full pl-8 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-800 focus:outline-none focus:bg-white">
                                    </div>
                                    <div class="word-helper" id="totalCashWords">Six Lakh</div>
                                </div>

                                <div class="p-4 rounded-2xl bg-indigo-50 border border-indigo-100 input-group">
                                    <label class="block text-sm font-bold text-indigo-900 mb-1.5">Buffer Cash (Don't
                                        Spend)</label>
                                    <div class="relative mb-2">
                                        <span
                                            class="absolute left-3 top-1/2 -translate-y-1/2 text-indigo-400 font-bold">â‚¹</span>
                                        <input type="text" id="bufferCash" value="1,00,000"
                                            class="currency-input w-full pl-8 pr-4 py-3 bg-white border border-indigo-200 rounded-xl font-bold text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-200">
                                    </div>
                                    <div class="word-helper text-indigo-600/70" id="bufferCashWords">One Lakh</div>
                                    <p class="text-[10px] text-indigo-600 leading-relaxed font-medium mt-2">
                                        Money you deliberately keep in the bank to invest instead of paying as Down
                                        Payment.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Market Details -->
                        <div>
                            <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Market
                                Assumptions</label>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="input-group">
                                    <label class="block text-xs font-semibold text-slate-700 mb-1.5">Returns
                                        (SIP)</label>
                                    <div class="relative">
                                        <input type="number" id="sipRate" value="13.0" step="0.1"
                                            class="w-full px-3 py-2.5 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-800 text-sm focus:outline-none focus:bg-white">
                                        <span
                                            class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold">%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label class="block text-xs font-semibold text-slate-700 mb-1.5">Tax on
                                        Gains</label>
                                    <div class="relative">
                                        <input type="number" id="taxRate" value="12.5" step="0.5"
                                            class="w-full px-3 py-2.5 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-800 text-sm focus:outline-none focus:bg-white">
                                        <span
                                            class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold">%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Right Column: Results -->
            <div class="lg:col-span-8 space-y-8 animate-enter delay-200">

                <!-- Cards Grid -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-5 items-stretch">

                    <!-- Scenario A: Standard -->
                    <div
                        class="strategy-card bg-white rounded-3xl p-6 border border-slate-100 shadow-lg shadow-slate-200/50 relative overflow-hidden group">
                        <div class="absolute top-0 left-0 w-full h-1.5 bg-slate-300 transition-all group-hover:h-2">
                        </div>
                        <div class="mb-6">
                            <span
                                class="inline-block px-2 py-1 rounded bg-slate-100 text-slate-600 text-[10px] font-bold uppercase tracking-wide mb-2">Strategy
                                1</span>
                            <h3 class="text-xl font-bold text-slate-800 leading-tight">Debt Hater</h3>
                            <p class="text-xs text-slate-500 mt-2 font-medium leading-relaxed">
                                Pay maximum cash now. Take a short 5-year loan.
                            </p>
                        </div>

                        <div class="mt-auto space-y-4">
                            <!-- Main Stat -->
                            <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
                                <div class="main-stat-label text-slate-400">Monthly EMI (5yr)</div>
                                <div class="text-2xl font-bold text-slate-800 tracking-tight" id="emiA">â‚¹0</div>
                            </div>

                            <div class="flex justify-between items-center text-xs mt-2 px-1">
                                <span class="text-slate-500 font-medium">Interest Paid:</span>
                                <span class="font-bold text-rose-500" id="interestA">â‚¹0</span>
                            </div>

                            <ul class="space-y-2 mt-2 pt-2 border-t border-slate-50">
                                <li class="flex items-start gap-2 text-xs font-medium text-slate-600">
                                    <i class="fas fa-check-circle text-emerald-500 mt-0.5"></i> Lowest interest cost
                                </li>
                                <li class="flex items-start gap-2 text-xs font-medium text-slate-600">
                                    <i class="fas fa-times-circle text-rose-500 mt-0.5"></i> All cash locked
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Scenario B: Recommended -->
                    <div
                        class="strategy-card bg-indigo-600 rounded-3xl p-1 border border-indigo-500 shadow-2xl shadow-indigo-500/20 text-white transform md:-translate-y-4 z-10">
                        <div class="bg-white/10 backdrop-blur-sm rounded-[1.4rem] p-5 h-full flex flex-col">

                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <span
                                        class="inline-flex items-center gap-1 px-2 py-1 rounded bg-yellow-400 text-yellow-900 text-[10px] font-extrabold uppercase tracking-wide mb-2">
                                        <i class="fas fa-star text-[8px]"></i> Recommended
                                    </span>
                                    <h3 class="text-xl font-bold text-white leading-tight">Smart Investor</h3>
                                </div>
                            </div>

                            <p class="text-xs text-indigo-100 mb-6 font-medium leading-relaxed opacity-90">
                                Keep cash. Take longer 7-year loan. Invest the difference.
                            </p>

                            <div class="mt-auto space-y-4">
                                <!-- Main Stat -->
                                <div class="bg-white rounded-2xl p-4 shadow-lg text-slate-900">
                                    <div class="flex justify-between items-end mb-1">
                                        <div class="main-stat-label text-slate-400">Monthly EMI (7yr)</div>
                                        <div class="text-[10px] font-bold text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded"
                                            id="sipB_label">Save â‚¹0</div>
                                    </div>
                                    <div class="text-3xl font-bold text-indigo-600 tracking-tight" id="emiB">â‚¹0</div>
                                </div>

                                <div class="flex justify-between items-center text-xs mt-2 px-1 text-indigo-100">
                                    <span class="font-medium opacity-80">Interest Paid:</span>
                                    <span class="font-bold text-white" id="interestB">â‚¹0</span>
                                </div>

                                <ul class="space-y-2 mt-2 pt-2 border-t border-indigo-500/30">
                                    <li class="flex items-start gap-2 text-xs font-medium text-indigo-50 opacity-90">
                                        <i class="fas fa-shield-alt text-yellow-300 mt-0.5"></i> Liquid cash available
                                    </li>
                                    <li class="flex items-start gap-2 text-xs font-medium text-indigo-50 opacity-90">
                                        <i class="fas fa-chart-line text-yellow-300 mt-0.5"></i> Beats inflation
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Scenario C: Wealth Builder -->
                    <div
                        class="strategy-card bg-white rounded-3xl p-6 border border-slate-100 shadow-lg shadow-slate-200/50 relative overflow-hidden group">
                        <div class="absolute top-0 left-0 w-full h-1.5 bg-emerald-400 transition-all group-hover:h-2">
                        </div>
                        <div class="mb-6">
                            <span
                                class="inline-block px-2 py-1 rounded bg-slate-100 text-slate-600 text-[10px] font-bold uppercase tracking-wide mb-2">Strategy
                                3</span>
                            <h3 class="text-xl font-bold text-slate-800 leading-tight">Late Bloomer</h3>
                            <p class="text-xs text-slate-500 mt-2 font-medium leading-relaxed">
                                Pay fast (5yr). Start investing aggressively only after loan ends.
                            </p>
                        </div>

                        <div class="mt-auto space-y-4">
                            <!-- Main Stat -->
                            <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
                                <div class="main-stat-label text-slate-400">Invest Yrs 6-7</div>
                                <div class="text-2xl font-bold text-emerald-700" id="emiC">â‚¹0</div>
                            </div>

                            <div class="flex justify-between items-center text-xs mt-2 px-1">
                                <span class="text-slate-500 font-medium">Interest Paid:</span>
                                <span class="font-bold text-rose-500" id="interestC">â‚¹0</span>
                            </div>

                            <ul class="space-y-2 mt-2 pt-2 border-t border-slate-50">
                                <li class="flex items-start gap-2 text-xs font-medium text-slate-600">
                                    <i class="fas fa-check-circle text-emerald-500 mt-0.5"></i> Debt free quickly
                                </li>
                                <li class="flex items-start gap-2 text-xs font-medium text-slate-600">
                                    <i class="fas fa-clock text-orange-500 mt-0.5"></i> Lost 5 years of compounding
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- Deep Dive Analysis Section (New) -->
                <div class="mt-8 animate-enter delay-300 space-y-8">

                    <!-- Section Title -->
                    <div class="flex items-center gap-3 mb-4">
                        <div class="h-8 w-1 bg-indigo-600 rounded-full"></div>
                        <h2 class="text-xl font-bold text-slate-800">Deep Dive Analysis</h2>
                    </div>

                    <!-- 1. Monthly Cash Flow Table -->
                    <div class="bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm">
                        <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center">
                            <h3 class="font-bold text-slate-700 text-sm uppercase tracking-wide">Monthly Cash Flow</h3>
                            <span class="text-xs text-slate-500 font-medium" id="fuelNote">*Includes estimated fuel
                                costs</span>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full analysis-table">
                                <thead>
                                    <tr>
                                        <th>Strategy</th>
                                        <th>Loan EMI</th>
                                        <th class="fuel-col">Fuel Cost</th>
                                        <th>Total Monthly Outflow</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>1. Debt Hater</strong></td>
                                        <td id="t_emiA">â‚¹0</td>
                                        <td class="fuel-col text-orange-600 font-medium fuel-val">â‚¹0</td>
                                        <td class="font-bold text-slate-800" id="t_totalA">â‚¹0</td>
                                    </tr>
                                    <tr class="bg-indigo-50/30">
                                        <td><strong>2. Smart Investor</strong></td>
                                        <td id="t_emiB" class="text-indigo-600 font-bold">â‚¹0</td>
                                        <td class="fuel-col text-orange-600 font-medium fuel-val">â‚¹0</td>
                                        <td class="font-bold text-indigo-900" id="t_totalB">â‚¹0</td>
                                    </tr>
                                    <tr>
                                        <td><strong>3. Late Bloomer</strong></td>
                                        <td id="t_emiC">â‚¹0</td>
                                        <td class="fuel-col text-orange-600 font-medium fuel-val">â‚¹0</td>
                                        <td class="font-bold text-slate-800" id="t_totalC">â‚¹0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 2. Wealth View Table -->
                    <div class="bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm">
                        <div class="bg-slate-50 px-6 py-4 border-b border-slate-200">
                            <h3 class="font-bold text-slate-700 text-sm uppercase tracking-wide">7-Year Wealth View</h3>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                                <!-- A -->
                                <div class="p-4 bg-slate-50 rounded-xl border border-slate-100">
                                    <div class="text-xs font-bold text-slate-400 uppercase mb-2">Strategy 1</div>
                                    <div class="text-2xl font-bold text-slate-600 mb-1" id="nwA">â‚¹0</div>
                                    <div class="text-[10px] text-slate-400">Total Net Worth</div>
                                    <div
                                        class="mt-3 pt-3 border-t border-slate-200 text-xs flex justify-between text-slate-500">
                                        <span>Car Value:</span> <span class="resale-val">â‚¹0</span>
                                    </div>
                                    <div class="text-xs flex justify-between text-slate-500 mt-1">
                                        <span>Investments:</span> <span>â‚¹0</span>
                                    </div>
                                </div>

                                <!-- B -->
                                <div
                                    class="p-4 bg-indigo-50 rounded-xl border border-indigo-100 ring-2 ring-indigo-500/10">
                                    <div class="text-xs font-bold text-indigo-400 uppercase mb-2">Strategy 2 (Best)
                                    </div>
                                    <div class="text-3xl font-bold text-indigo-700 mb-1" id="nwB">â‚¹0</div>
                                    <div class="text-[10px] text-indigo-400">Total Net Worth</div>
                                    <div
                                        class="mt-3 pt-3 border-t border-indigo-200 text-xs flex justify-between text-indigo-600">
                                        <span>Car Value:</span> <span class="resale-val">â‚¹0</span>
                                    </div>
                                    <div class="text-xs flex justify-between text-indigo-600 mt-1 font-bold">
                                        <span>Investments:</span> <span id="invB">â‚¹0</span>
                                    </div>
                                </div>

                                <!-- C -->
                                <div class="p-4 bg-slate-50 rounded-xl border border-slate-100">
                                    <div class="text-xs font-bold text-slate-400 uppercase mb-2">Strategy 3</div>
                                    <div class="text-2xl font-bold text-emerald-600 mb-1" id="nwC">â‚¹0</div>
                                    <div class="text-[10px] text-slate-400">Total Net Worth</div>
                                    <div
                                        class="mt-3 pt-3 border-t border-slate-200 text-xs flex justify-between text-slate-500">
                                        <span>Car Value:</span> <span class="resale-val">â‚¹0</span>
                                    </div>
                                    <div class="text-xs flex justify-between text-slate-500 mt-1">
                                        <span>Investments:</span> <span id="invC">â‚¹0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- 3. Wealth Growth Chart (NEW) -->
                <div class="bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm">
                    <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center">
                        <h3 class="font-bold text-slate-700 text-sm uppercase tracking-wide">Wealth Growth Trajectory
                        </h3>
                        <span class="text-xs text-slate-500 font-medium">Net Worth Over 7 Years</span>
                    </div>
                    <div class="p-6">
                        <div class="relative" style="height: 300px;">
                            <canvas id="wealthChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Educational Panels -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-5 mt-8">
                    <div class="bg-white p-5 rounded-2xl border border-slate-100">
                        <div class="w-8 h-8 rounded-lg bg-rose-100 text-rose-500 flex items-center justify-center mb-3">
                            <i class="fas fa-arrow-down text-sm"></i>
                        </div>
                        <h4 class="font-bold text-sm text-slate-900 mb-1">Depreciation</h4>
                        <p class="text-xs text-slate-500 leading-relaxed">
                            Cars lose value every year (approx 15%). The "Car Value" shown in the Net Worth section is
                            the estimated resale price after 7 years, not what you paid.
                        </p>
                    </div>

                    <div class="bg-white p-5 rounded-2xl border border-slate-100">
                        <div class="w-8 h-8 rounded-lg bg-blue-100 text-blue-500 flex items-center justify-center mb-3">
                            <i class="fas fa-chart-pie text-sm"></i>
                        </div>
                        <h4 class="font-bold text-sm text-slate-900 mb-1">Arbitrage Math</h4>
                        <p class="text-xs text-slate-500 leading-relaxed">
                            If your loan costs 9% but your investments earn 13%, you make a "profit" of 4% on the bank's
                            money. This is how the rich use debt.
                        </p>
                    </div>

                    <div class="bg-white p-5 rounded-2xl border border-slate-100">
                        <div
                            class="w-8 h-8 rounded-lg bg-orange-100 text-orange-500 flex items-center justify-center mb-3">
                            <i class="fas fa-gas-pump text-sm"></i>
                        </div>
                        <h4 class="font-bold text-sm text-slate-900 mb-1">Total Monthly Cost</h4>
                        <p class="text-xs text-slate-500 leading-relaxed">
                            Your bank account sees "EMI + Fuel". We've separated this into the "Monthly Cash Flow" table
                            to keep the strategy cards clean.
                        </p>
                    </div>
                </div>

                <!-- Inflation Section -->
                <div class="mt-8 border-t border-slate-200 pt-10">
                    <div
                        class="bg-orange-50 rounded-3xl p-6 border border-orange-100 flex flex-col md:flex-row items-center gap-6">
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-orange-900 mb-2">The Inflation Effect</h3>
                            <p class="text-sm text-orange-800/80 mb-0 leading-relaxed">
                                If you keep your savings in cash under a mattress, inflation (avg 6%) eats it. <br>
                                <span class="font-bold" id="inf_cash">â‚¹0</span> today will only buy <span
                                    class="font-bold text-orange-600" id="inf_value">â‚¹0</span> worth of goods in 7
                                years.
                            </p>
                        </div>
                        <div
                            class="bg-white/50 p-3 rounded-xl border border-orange-200/50 text-orange-800 text-xs font-bold text-center min-w-[120px]">
                            <i class="fas fa-percentage text-2xl mb-1 block opacity-50"></i>
                            Wealth Erosion
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- 1. UTILITY FUNCTIONS ---
        const numToWords = (num) => {
            if (!num || isNaN(num)) return '';
            const a = ['', 'One ', 'Two ', 'Three ', 'Four ', 'Five ', 'Six ', 'Seven ', 'Eight ', 'Nine ', 'Ten ', 'Eleven ', 'Twelve ', 'Thirteen ', 'Fourteen ', 'Fifteen ', 'Sixteen ', 'Seventeen ', 'Eighteen ', 'Nineteen '];
            const b = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
            const inWords = (n) => {
                if ((n = n.toString()).length > 9) return 'Overflow';
                let n_array = ('000000000' + n).slice(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);
                if (!n_array) return;
                let str = '';
                str += (n_array[1] != 0) ? (a[Number(n_array[1])] || b[n_array[1][0]] + ' ' + a[n_array[1][1]]) + 'Crore ' : '';
                str += (n_array[2] != 0) ? (a[Number(n_array[2])] || b[n_array[2][0]] + ' ' + a[n_array[2][1]]) + 'Lakh ' : '';
                str += (n_array[3] != 0) ? (a[Number(n_array[3])] || b[n_array[3][0]] + ' ' + a[n_array[3][1]]) + 'Thousand ' : '';
                str += (n_array[4] != 0) ? (a[Number(n_array[4])] || b[n_array[4][0]] + ' ' + a[n_array[4][1]]) + 'Hundred ' : '';
                str += (n_array[5] != 0) ? ((str != '') ? '' : '') + (a[Number(n_array[5])] || b[n_array[5][0]] + ' ' + a[n_array[5][1]]) : '';
                return str.trim();
            };
            return inWords(num);
        };

        const formatNumber = (num) => {
            if (num === '' || isNaN(num)) return '';
            let x = num.toString();
            let lastThree = x.substring(x.length - 3);
            let otherNumbers = x.substring(0, x.length - 3);
            if (otherNumbers != '') lastThree = ',' + lastThree;
            return otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree;
        };

        const getRawValue = (val) => {
            if (typeof val === 'number') return val;
            return parseFloat(val.toString().replace(/,/g, '')) || 0;
        };

        const formatCurrency = (num) => new Intl.NumberFormat('en-IN', {
            style: 'currency',
            currency: 'INR',
            maximumFractionDigits: 0
        }).format(num);

        const formatLakh = (num) => {
            if (num >= 10000000) return (num / 10000000).toFixed(1) + ' Cr';
            if (num >= 100000) return (num / 100000).toFixed(1) + ' L';
            return formatCurrency(num);
        };


        // --- 2. DOM ELEMENTS ---
        const inputs = {
            price: document.getElementById('carPrice'),
            totalCash: document.getElementById('totalCash'),
            buffer: document.getElementById('bufferCash'),
            loanRate: document.getElementById('loanRate'),
            sipRate: document.getElementById('sipRate'),
            taxRate: document.getElementById('taxRate'),
            monthlyKm: document.getElementById('monthlyKm'),
            mileage: document.getElementById('mileage'),
            fuelPrice: document.getElementById('fuelPrice'),
            depreciation: document.getElementById('depreciation'),
            // New Ownership Inputs
            insuranceRate: document.getElementById('insuranceRate'),
            maintenanceCost: document.getElementById('maintenanceCost')
        };

        const helpers = {
            price: document.getElementById('carPriceWords'),
            totalCash: document.getElementById('totalCashWords'),
            buffer: document.getElementById('bufferCashWords')
        };

        const fuelToggle = document.getElementById('includeFuel');
        const fuelContainer = document.getElementById('fuelInputsContainer');
        const fuelCols = document.querySelectorAll('.fuel-col');

        const ownershipToggle = document.getElementById('includeOwnership');
        const ownershipContainer = document.getElementById('ownershipInputsContainer');

        // --- Chart Instance ---
        let wealthChart = null;


        // --- 3. EVENT LISTENERS ---
        const setupCurrencyInput = (inputId, helperId) => {
            const input = document.getElementById(inputId);
            const helper = document.getElementById(helperId);
            input.addEventListener('focus', (e) => {
                let val = getRawValue(e.target.value);
                if (val === 0) e.target.value = '';
                else e.target.value = val;
            });
            input.addEventListener('blur', (e) => {
                let val = getRawValue(e.target.value);
                if (val === 0 && e.target.value === '') e.target.value = "0";
                else e.target.value = formatNumber(val);
            });
            input.addEventListener('input', (e) => {
                let val = getRawValue(e.target.value);
                helper.innerText = numToWords(val);
                update();
            });
        };

        setupCurrencyInput('carPrice', 'carPriceWords');
        setupCurrencyInput('totalCash', 'totalCashWords');
        setupCurrencyInput('bufferCash', 'bufferCashWords');

        inputs.loanRate.addEventListener('input', update);
        inputs.sipRate.addEventListener('input', update);
        inputs.taxRate.addEventListener('input', update);
        inputs.monthlyKm.addEventListener('input', update);
        inputs.mileage.addEventListener('input', update);
        inputs.fuelPrice.addEventListener('input', update);
        inputs.depreciation.addEventListener('input', update);
        inputs.insuranceRate.addEventListener('input', update);
        inputs.maintenanceCost.addEventListener('input', update);

        fuelToggle.addEventListener('change', () => update());
        ownershipToggle.addEventListener('change', () => update());


        // --- 4. MAIN LOGIC ---

        const calculateEMI = (p, r, n) => {
            if (p <= 0 || r <= 0) return 0;
            const rate = r / 1200;
            return (p * rate * Math.pow(1 + rate, n)) / (Math.pow(1 + rate, n) - 1);
        };

        const fvSIP = (amt, r, n) => {
            if (amt <= 0 || r <= 0 || n <= 0) return 0;
            const i = r / 1200;
            return amt * ((Math.pow(1 + i, n) - 1) / i) * (1 + i);
        };

        const fvLumpsum = (amt, r, n_months) => {
            if (amt <= 0) return 0;
            const i = r / 1200;
            return amt * Math.pow(1 + i, n_months);
        };

        // Calculate year-by-year net worth for a strategy
        const calculateYearlyWealth = (carPrice, depRate, investmentsByYear) => {
            const yearlyWealth = [];
            for (let year = 0; year <= 7; year++) {
                const carValue = carPrice * Math.pow(1 - (depRate / 100), year);
                const investments = investmentsByYear[year] || 0;
                yearlyWealth.push(carValue + investments);
            }
            return yearlyWealth;
        };

        function update() {
            // Get values with validation
            const P = Math.max(0, getRawValue(inputs.price.value));
            const C = Math.max(0, getRawValue(inputs.totalCash.value));
            const B = Math.max(0, getRawValue(inputs.buffer.value));

            const rLoan = Math.max(0, parseFloat(inputs.loanRate.value) || 0);
            const rInv = Math.max(0, parseFloat(inputs.sipRate.value) || 0);
            const rTax = Math.max(0, Math.min(100, parseFloat(inputs.taxRate.value) || 0));

            const km = Math.max(0, parseFloat(inputs.monthlyKm.value) || 0);
            const mil = Math.max(1, parseFloat(inputs.mileage.value) || 1); // Prevent division by zero
            const fuelP = Math.max(0, parseFloat(inputs.fuelPrice.value) || 0);
            const depRate = Math.max(0, Math.min(50, parseFloat(inputs.depreciation.value) || 0));

            const insRate = Math.max(0, parseFloat(inputs.insuranceRate.value) || 0);
            const maintCost = Math.max(0, parseFloat(inputs.maintenanceCost.value) || 0);

            // Check Toggles
            const isFuelIncluded = fuelToggle.checked;
            const isOwnershipIncluded = ownershipToggle.checked;

            // UI Toggle - Fuel
            if (isFuelIncluded) {
                fuelContainer.classList.remove('disabled-section');
                fuelCols.forEach(el => el.style.display = 'table-cell');
                document.getElementById('fuelNote').style.display = 'block';
            } else {
                fuelContainer.classList.add('disabled-section');
                fuelCols.forEach(el => el.style.display = 'none');
                document.getElementById('fuelNote').style.display = 'none';
            }

            // UI Toggle - Ownership
            if (isOwnershipIncluded) {
                ownershipContainer.classList.remove('disabled-section');
            } else {
                ownershipContainer.classList.add('disabled-section');
            }

            // --- Running Costs & Depreciation ---
            const monthlyFuel = isFuelIncluded ? (km / mil) * fuelP : 0;

            // Calculate 7-year ownership costs (insurance decreases, maintenance steady)
            let totalOwnershipCost7 = 0;
            if (isOwnershipIncluded) {
                for (let year = 1; year <= 7; year++) {
                    const carValueYear = P * Math.pow(1 - (depRate / 100), year - 1);
                    const yearlyInsurance = carValueYear * (insRate / 100) * Math.pow(0.9, year - 1); // 10% decrease yearly
                    totalOwnershipCost7 += yearlyInsurance + maintCost;
                }
            }
            const monthlyOwnership = isOwnershipIncluded ? totalOwnershipCost7 / 84 : 0;

            // Car Value after 7 years
            const carValue7 = P * Math.pow(1 - (depRate / 100), 7);

            // --- Scenario A: Traditionalist (5Y, Full Cash) ---
            const dpA = C;
            const loanA = Math.max(0, P - dpA);
            const emiA = calculateEMI(loanA, rLoan, 60);
            const totalPaidA = emiA * 60;
            const interestA = Math.max(0, totalPaidA - loanA);

            // Net Worth A (Yr 7) - no investments
            const nwA = carValue7;

            document.getElementById('emiA').innerText = formatCurrency(emiA);
            document.getElementById('interestA').innerText = formatCurrency(interestA);

            // Table A
            document.getElementById('t_emiA').innerText = formatCurrency(emiA);
            document.getElementById('t_totalA').innerText = formatCurrency(emiA + monthlyFuel + monthlyOwnership);


            // --- Scenario B: Arbitrage (7Y, Keep Buffer) ---
            const dpB = Math.max(0, C - B);
            const loanB = Math.max(0, P - dpB);
            const emiB = calculateEMI(loanB, rLoan, 84);
            const totalPaidB = emiB * 84;
            const interestB = Math.max(0, totalPaidB - loanB);

            // Investments
            const fvBuffer = fvLumpsum(B, rInv, 84);
            const gainBuffer = fvBuffer - B;
            const taxBuffer = gainBuffer > 0 ? gainBuffer * (rTax / 100) : 0;
            const netBuffer = fvBuffer - taxBuffer;

            const monthlySurplus = Math.max(0, emiA - emiB);
            const fvSipVal = fvSIP(monthlySurplus, rInv, 84);
            const gainSip = (fvSipVal - (monthlySurplus * 84));
            const taxSip = gainSip > 0 ? gainSip * (rTax / 100) : 0;
            const netSip = fvSipVal - taxSip;

            const totalLiquidCashB = netBuffer + netSip;
            const nwB = carValue7 + totalLiquidCashB;

            document.getElementById('emiB').innerText = formatCurrency(emiB);
            document.getElementById('interestB').innerText = formatCurrency(interestB);
            document.getElementById('sipB_label').innerText = `Save ${formatCurrency(monthlySurplus)}/mo`;

            // Table B
            document.getElementById('t_emiB').innerText = formatCurrency(emiB);
            document.getElementById('t_totalB').innerText = formatCurrency(emiB + monthlyFuel + monthlyOwnership);


            // --- Scenario C: Wealth Builder (5Y, Full Cash, Invest Later) ---
            const emiC = emiA;
            const interestC = interestA;

            // Invest EMI amount for remaining 2 years (months 61-84)
            const fvC = fvSIP(emiC, rInv, 24);
            const gainC = fvC - (emiC * 24);
            const taxC = gainC > 0 ? gainC * (rTax / 100) : 0;
            const finalCashC = fvC - taxC;

            const nwC = carValue7 + finalCashC;

            document.getElementById('emiC').innerText = formatCurrency(emiC);
            document.getElementById('interestC').innerText = formatCurrency(interestC);

            // Table C
            document.getElementById('t_emiC').innerText = formatCurrency(emiC);
            document.getElementById('t_totalC').innerText = formatCurrency(emiC + monthlyFuel + monthlyOwnership);


            // --- WEALTH UPDATES ---
            document.getElementById('nwA').innerText = formatCurrency(nwA);
            document.getElementById('nwB').innerText = formatCurrency(nwB);
            document.getElementById('invB').innerText = formatCurrency(totalLiquidCashB);
            document.getElementById('nwC').innerText = formatCurrency(nwC);
            document.getElementById('invC').innerText = formatCurrency(finalCashC);

            document.querySelectorAll('.fuel-val').forEach(el => el.innerText = formatCurrency(monthlyFuel));
            document.querySelectorAll('.resale-val').forEach(el => el.innerText = formatCurrency(carValue7));


            // --- Inflation Calculation ---
            const inflationRate = 0.06;
            const years = 7;
            const purchasingPower = C / Math.pow(1 + inflationRate, years);

            document.getElementById('inf_cash').innerText = formatCurrency(C);
            document.getElementById('inf_value').innerText = formatCurrency(purchasingPower);


            // --- CHART UPDATE ---
            updateChart(P, depRate, rInv, rTax, B, emiA, emiB, monthlySurplus);
        }

        function updateChart(P, depRate, rInv, rTax, B, emiA, emiB, monthlySurplus) {
            const labels = ['Year 0', 'Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5', 'Year 6', 'Year 7'];

            // Calculate year-by-year wealth for each strategy
            const wealthA = [];
            const wealthB = [];
            const wealthC = [];

            for (let year = 0; year <= 7; year++) {
                const carValue = P * Math.pow(1 - (depRate / 100), year);
                const months = year * 12;

                // Strategy A: Just car value (no investments)
                wealthA.push(carValue);

                // Strategy B: Car + lumpsum growth + SIP growth
                const bufferGrowth = fvLumpsum(B, rInv, months);
                const sipGrowth = fvSIP(monthlySurplus, rInv, months);
                const gains = (bufferGrowth - B) + (sipGrowth - monthlySurplus * months);
                const tax = gains > 0 ? gains * (rTax / 100) : 0;
                wealthB.push(carValue + bufferGrowth + sipGrowth - tax);

                // Strategy C: Car + SIP after year 5
                if (year <= 5) {
                    wealthC.push(carValue);
                } else {
                    const investMonths = (year - 5) * 12;
                    const sipC = fvSIP(emiA, rInv, investMonths);
                    const gainC = sipC - (emiA * investMonths);
                    const taxC = gainC > 0 ? gainC * (rTax / 100) : 0;
                    wealthC.push(carValue + sipC - taxC);
                }
            }

            const ctx = document.getElementById('wealthChart').getContext('2d');

            if (wealthChart) {
                wealthChart.data.datasets[0].data = wealthA;
                wealthChart.data.datasets[1].data = wealthB;
                wealthChart.data.datasets[2].data = wealthC;
                wealthChart.update('none');
            } else {
                wealthChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Strategy 1: Debt Hater',
                                data: wealthA,
                                borderColor: '#94A3B8',
                                backgroundColor: 'rgba(148, 163, 184, 0.1)',
                                borderWidth: 2,
                                fill: true,
                                tension: 0.3,
                                pointRadius: 4,
                                pointHoverRadius: 6
                            },
                            {
                                label: 'Strategy 2: Smart Investor',
                                data: wealthB,
                                borderColor: '#4F46E5',
                                backgroundColor: 'rgba(79, 70, 229, 0.1)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.3,
                                pointRadius: 5,
                                pointHoverRadius: 7
                            },
                            {
                                label: 'Strategy 3: Late Bloomer',
                                data: wealthC,
                                borderColor: '#10B981',
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                borderWidth: 2,
                                fill: true,
                                tension: 0.3,
                                pointRadius: 4,
                                pointHoverRadius: 6
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20,
                                    font: {
                                        family: "'Plus Jakarta Sans', sans-serif",
                                        weight: '600',
                                        size: 11
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(15, 23, 42, 0.9)',
                                titleFont: { family: "'Plus Jakarta Sans', sans-serif", weight: '700' },
                                bodyFont: { family: "'Plus Jakarta Sans', sans-serif" },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function (context) {
                                        return context.dataset.label + ': ' + formatCurrency(context.raw);
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(226, 232, 240, 0.5)'
                                },
                                ticks: {
                                    font: {
                                        family: "'Plus Jakarta Sans', sans-serif",
                                        weight: '600',
                                        size: 10
                                    },
                                    callback: function (value) {
                                        return formatLakh(value);
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    font: {
                                        family: "'Plus Jakarta Sans', sans-serif",
                                        weight: '600',
                                        size: 11
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // Initial call
        update();

    </script>
</body>

</html>